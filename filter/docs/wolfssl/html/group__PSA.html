<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>My Project: Platform Security Architecture (PSA) API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="wolfssl_logo" style="width: 150px; height: 100px; display: inline-block;"><img alt="Logo" src="../images/wolfssl_logo.png" style="width: 150px; height: 100px;"/></div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Platform Security Architecture (PSA) API </div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaa4cfb79ee5d8f25a89faa1f1de23d3a" id="r_gaaa4cfb79ee5d8f25a89faa1f1de23d3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaa4cfb79ee5d8f25a89faa1f1de23d3a">wolfSSL_CTX_psa_enable</a> (WOLFSSL_CTX *ctx)</td></tr>
<tr class="memdesc:gaaa4cfb79ee5d8f25a89faa1f1de23d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables PSA support on the given context.  <br /></td></tr>
<tr class="memitem:ga69aa2e5f10a1493bffeb51993ef4b09b" id="r_ga69aa2e5f10a1493bffeb51993ef4b09b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga69aa2e5f10a1493bffeb51993ef4b09b">wolfSSL_set_psa_ctx</a> (WOLFSSL *ssl, struct psa_ssl_ctx *ctx)</td></tr>
<tr class="memdesc:ga69aa2e5f10a1493bffeb51993ef4b09b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function setup the PSA context for the given SSL session.  <br /></td></tr>
<tr class="memitem:ga11022744c54e21738db6addde5064319" id="r_ga11022744c54e21738db6addde5064319"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga11022744c54e21738db6addde5064319">wolfSSL_free_psa_ctx</a> (struct psa_ssl_ctx *ctx)</td></tr>
<tr class="memdesc:ga11022744c54e21738db6addde5064319"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function releases the resources used by a PSA context.  <br /></td></tr>
<tr class="memitem:ga49e96c7f54a0adeab54732a72291628c" id="r_ga49e96c7f54a0adeab54732a72291628c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga49e96c7f54a0adeab54732a72291628c">wolfSSL_psa_set_private_key_id</a> (struct psa_ssl_ctx *ctx, psa_key_id_t id)</td></tr>
<tr class="memdesc:ga49e96c7f54a0adeab54732a72291628c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function set the private key used by an SSL session.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="gaaa4cfb79ee5d8f25a89faa1f1de23d3a" name="gaaa4cfb79ee5d8f25a89faa1f1de23d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa4cfb79ee5d8f25a89faa1f1de23d3a">&#9670;&#160;</a></span>wolfSSL_CTX_psa_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wolfSSL_CTX_psa_enable </td>
          <td>(</td>
          <td class="paramtype">WOLFSSL_CTX *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables PSA support on the given context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>pointer to the WOLFSSL_CTX object on which the PSA support must be enabled </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WOLFSSL_SUCCESS on success </dd>
<dd>
BAD_FUNC_ARG if ctx == NULL</dd></dl>
<p><em>Example</em> </p><div class="fragment"><div class="line">WOLFSSL_CTX *ctx;</div>
<div class="line">ctx = <a class="code hl_function" href="group__Setup.html#ga2bcaa81e9fd11074c6e504891370dd45">wolfSSL_CTX_new</a>(<a class="code hl_function" href="group__Setup.html#ga12fffeacc6aefd594f51c1dcb9d6c27d">wolfTLSv1_2_client_method</a>());</div>
<div class="line"><span class="keywordflow">if</span> (!ctx)</div>
<div class="line">    <span class="keywordflow">return</span> NULL;</div>
<div class="line">ret = <a class="code hl_function" href="#gaaa4cfb79ee5d8f25a89faa1f1de23d3a">wolfSSL_CTX_psa_enable</a>(ctx);</div>
<div class="line"><span class="keywordflow">if</span> (ret != WOLFSSL_SUCCESS)</div>
<div class="line">    printf(<span class="stringliteral">&quot;can&#39;t enable PSA on ctx&quot;</span>);</div>
<div class="ttc" id="agroup__PSA_html_gaaa4cfb79ee5d8f25a89faa1f1de23d3a"><div class="ttname"><a href="#gaaa4cfb79ee5d8f25a89faa1f1de23d3a">wolfSSL_CTX_psa_enable</a></div><div class="ttdeci">int wolfSSL_CTX_psa_enable(WOLFSSL_CTX *ctx)</div><div class="ttdoc">This function enables PSA support on the given context.</div></div>
<div class="ttc" id="agroup__Setup_html_ga12fffeacc6aefd594f51c1dcb9d6c27d"><div class="ttname"><a href="group__Setup.html#ga12fffeacc6aefd594f51c1dcb9d6c27d">wolfTLSv1_2_client_method</a></div><div class="ttdeci">WOLFSSL_METHOD * wolfTLSv1_2_client_method(void)</div><div class="ttdoc">The wolfTLSv1_2_client_method() function is used to indicate that the application is a client and wil...</div></div>
<div class="ttc" id="agroup__Setup_html_ga2bcaa81e9fd11074c6e504891370dd45"><div class="ttname"><a href="group__Setup.html#ga2bcaa81e9fd11074c6e504891370dd45">wolfSSL_CTX_new</a></div><div class="ttdeci">WOLFSSL_CTX * wolfSSL_CTX_new(WOLFSSL_METHOD *)</div><div class="ttdoc">This function creates a new SSL context, taking a desired SSL/TLS protocol method for input.</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga69aa2e5f10a1493bffeb51993ef4b09b" title="This function setup the PSA context for the given SSL session.">wolfSSL_set_psa_ctx</a> </dd></dl>

</div>
</div>
<a id="ga11022744c54e21738db6addde5064319" name="ga11022744c54e21738db6addde5064319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11022744c54e21738db6addde5064319">&#9670;&#160;</a></span>wolfSSL_free_psa_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wolfSSL_free_psa_ctx </td>
          <td>(</td>
          <td class="paramtype">struct psa_ssl_ctx *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function releases the resources used by a PSA context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>pointer to a struct psa_ssl_ctx</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga69aa2e5f10a1493bffeb51993ef4b09b" title="This function setup the PSA context for the given SSL session.">wolfSSL_set_psa_ctx</a> </dd></dl>

</div>
</div>
<a id="ga49e96c7f54a0adeab54732a72291628c" name="ga49e96c7f54a0adeab54732a72291628c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49e96c7f54a0adeab54732a72291628c">&#9670;&#160;</a></span>wolfSSL_psa_set_private_key_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wolfSSL_psa_set_private_key_id </td>
          <td>(</td>
          <td class="paramtype">struct psa_ssl_ctx *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">psa_key_id_t</td>          <td class="paramname"><span class="paramname"><em>id</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function set the private key used by an SSL session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>pointer to a struct psa_ssl_ctx </td></tr>
    <tr><td class="paramname">id</td><td>PSA id of the key to be used as private key</td></tr>
  </table>
  </dd>
</dl>
<p><em>Example</em> </p><div class="fragment"><div class="line"><span class="comment">// Create new ssl session</span></div>
<div class="line">WOLFSSL *ssl;</div>
<div class="line"><span class="keyword">struct </span>psa_ssl_ctx psa_ctx = { 0 };</div>
<div class="line">psa_key_id_t key_id;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// key provisioning already done</span></div>
<div class="line">get_private_key_id(&amp;key_id);</div>
<div class="line"> </div>
<div class="line">ssl = <a class="code hl_function" href="group__Setup.html#gab6d54b7485d74962e57bc636008aa9a0">wolfSSL_new</a>(ctx);</div>
<div class="line"><span class="keywordflow">if</span> (!ssl)</div>
<div class="line">    <span class="keywordflow">return</span> NULL;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="#ga49e96c7f54a0adeab54732a72291628c">wolfSSL_psa_set_private_key_id</a>(&amp;psa_ctx, key_id);</div>
<div class="line"><a class="code hl_function" href="#ga69aa2e5f10a1493bffeb51993ef4b09b">wolfSSL_set_psa_ctx</a>(ssl, ctx);</div>
<div class="ttc" id="agroup__PSA_html_ga49e96c7f54a0adeab54732a72291628c"><div class="ttname"><a href="#ga49e96c7f54a0adeab54732a72291628c">wolfSSL_psa_set_private_key_id</a></div><div class="ttdeci">int wolfSSL_psa_set_private_key_id(struct psa_ssl_ctx *ctx, psa_key_id_t id)</div><div class="ttdoc">This function set the private key used by an SSL session.</div></div>
<div class="ttc" id="agroup__PSA_html_ga69aa2e5f10a1493bffeb51993ef4b09b"><div class="ttname"><a href="#ga69aa2e5f10a1493bffeb51993ef4b09b">wolfSSL_set_psa_ctx</a></div><div class="ttdeci">int wolfSSL_set_psa_ctx(WOLFSSL *ssl, struct psa_ssl_ctx *ctx)</div><div class="ttdoc">This function setup the PSA context for the given SSL session.</div></div>
<div class="ttc" id="agroup__Setup_html_gab6d54b7485d74962e57bc636008aa9a0"><div class="ttname"><a href="group__Setup.html#gab6d54b7485d74962e57bc636008aa9a0">wolfSSL_new</a></div><div class="ttdeci">WOLFSSL * wolfSSL_new(WOLFSSL_CTX *)</div><div class="ttdoc">This function creates a new SSL session, taking an already created SSL context as input.</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga69aa2e5f10a1493bffeb51993ef4b09b" title="This function setup the PSA context for the given SSL session.">wolfSSL_set_psa_ctx</a> </dd></dl>

</div>
</div>
<a id="ga69aa2e5f10a1493bffeb51993ef4b09b" name="ga69aa2e5f10a1493bffeb51993ef4b09b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69aa2e5f10a1493bffeb51993ef4b09b">&#9670;&#160;</a></span>wolfSSL_set_psa_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wolfSSL_set_psa_ctx </td>
          <td>(</td>
          <td class="paramtype">WOLFSSL *</td>          <td class="paramname"><span class="paramname"><em>ssl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct psa_ssl_ctx *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function setup the PSA context for the given SSL session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ssl</td><td>pointer to the WOLFSSL where the ctx will be enabled </td></tr>
    <tr><td class="paramname">ctx</td><td>pointer to a struct psa_ssl_ctx (must be unique for a ssl session)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WOLFSSL_SUCCESS on success </dd>
<dd>
BAD_FUNC_ARG if ssl or ctx are NULL</dd></dl>
<p>This function setup the PSA context for the TLS callbacks to the given SSL session. At the end of the session, the resources used by the context should be freed using <a class="el" href="#ga11022744c54e21738db6addde5064319" title="This function releases the resources used by a PSA context.">wolfSSL_free_psa_ctx()</a>.</p>
<p><em>Example</em> </p><div class="fragment"><div class="line"><span class="comment">// Create new ssl session</span></div>
<div class="line">WOLFSSL *ssl;</div>
<div class="line"><span class="keyword">struct </span>psa_ssl_ctx psa_ctx = { 0 };</div>
<div class="line">ssl = <a class="code hl_function" href="group__Setup.html#gab6d54b7485d74962e57bc636008aa9a0">wolfSSL_new</a>(ctx);</div>
<div class="line"><span class="keywordflow">if</span> (!ssl)</div>
<div class="line">    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="comment">// setup PSA context</span></div>
<div class="line">ret = <a class="code hl_function" href="#ga69aa2e5f10a1493bffeb51993ef4b09b">wolfSSL_set_psa_ctx</a>(ssl, ctx);</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga49e96c7f54a0adeab54732a72291628c" title="This function set the private key used by an SSL session.">wolfSSL_psa_set_private_key_id</a> </dd>
<dd>
wolfSSL_psa_free_psa_ctx </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
